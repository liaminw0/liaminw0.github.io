{{ define "main" }}
<main>
  <div id="single-page">
    <div class="single-section">

      <!-- Article Info -->
      <div class="article-info">
        <h1 id="title">{{ .Params.title }}</h1>
        <h2>{{ .Params.author }}</h2>
      </div>

      <!-- Featured Image -->
      {{ if .Params.featured_image }}
      <img src="{{ .Params.featured_image }}" alt="{{ .Params.title }}" class="featured-image">
      {{ end }}

      <!-- Body Content -->
      <article>
        {{ .Params.body | markdownify }}
      </article>

      <!-- Custom Sections -->
      {{ if .Params.sections }}
      <div class="sections">
        {{ range .Params.sections }}
        <div class="section">
          {{ with .heading }}
          <h2>{{ . }}</h2>
          {{ end }}
          {{ with .content }}
          <div class="section-content">
            {{ . | markdownify }}
          </div>
          {{ end }}
          {{ with .image }}
          <img src="{{ . }}" alt="{{ .heading }}" class="section-image">
          {{ end }}
        </div>
        {{ end }}
      </div>
      {{ end }}

      <!-- Meta Information -->
      <div class="meta">
        <h3 id="date">{{ .Date.Format "January 2, 2006" }}</h3>
        <h4 id="wordcount">{{ .Content | wordCount }} Words</h4>
      </div>

    </div>
    {{- partial "footer.html" . -}}
  </div>
</main>
{{ end }}
